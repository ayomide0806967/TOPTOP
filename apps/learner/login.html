<!doctype html>
<html lang="en">
  <head>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../assets/academicnightingale-icon-32.png?v=cbd263c"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign in | Academic Nightingale</title>
    <meta
      name="description"
      content="Access your Academic Nightingale account to continue personalised nursing and midwifery CBT preparation, track progress, and manage study plans."
    />
    <meta name="robots" content="noindex, follow" />
    <link
      rel="canonical"
      href="https://www.academicnightingale.com/apps/learner/login.html"
    />
    <link rel="stylesheet" href="../assets/tailwind.css?v=cbd263c" />
    <style>
      html,
      body {
        font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        background-color: #f0f4f8; /* A slightly cooler off-white */
        color: #1a202c;
      }

      /* Vector background for the decorative side panel on desktop */
      .vector-background {
        background: linear-gradient(
          135deg,
          #e0f7fa 0%,
          #b2ebf2 50%,
          #80deea 100%
        );
        position: relative;
        overflow: hidden;
      }

      .vector-background::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background-image:
          radial-gradient(
            circle at 25% 25%,
            rgba(255, 255, 255, 0.15) 0%,
            transparent 30%
          ),
          radial-gradient(
            circle at 75% 75%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 30%
          );
        animation: rotate 30s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Custom input styles for a softer look */
      .form-input {
        background-color: #fdfdff;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
      }

      .form-input:focus {
        outline: none;
        border-color: #4dd0e1;
        box-shadow: 0 0 0 3px rgba(77, 208, 225, 0.2);
      }

      /* Button style matching the dashboard */
      .btn-primary {
        background: linear-gradient(135deg, #0e7490, #088ea5, #0ca5b5);
        color: #ffffff;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(14, 116, 144, 0.3);
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(14, 116, 144, 0.4);
      }

      .btn-whatsapp {
        background: linear-gradient(135deg, #25d366, #128c7e);
        color: #ffffff;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(18, 140, 126, 0.35);
      }
      .btn-whatsapp:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(18, 140, 126, 0.45);
      }
    </style>
  </head>
  <body class="antialiased text-gray-900">
    <div class="min-h-screen flex md:grid md:grid-cols-2">
      <!-- Login Form Section -->
      <div class="w-full flex items-center justify-center p-6 sm:p-8">
        <div class="max-w-md w-full">
          <!-- Header -->
          <div>
            <svg
              class="h-10 w-auto text-cyan-700"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M12.312 2.969c.943 0 1.844.297 2.61.859l-1.032 1.031a2.999 2.999 0 10-4.242 4.243L8.617 8.07A4.482 4.482 0 0112.312 6.5c.995 0 1.93.324 2.688.875l-1.047 1.047a1.5 1.5 0 102.121 2.121l1.047-1.047c.55 1.054.55 2.296 0 3.35l-1.047 1.047a1.5 1.5 0 102.121 2.121l1.047-1.047c.55.758.875 1.693.875 2.688a4.482 4.482 0 01-1.57 3.695l-1.031-1.032a2.999 2.999 0 10-4.243-4.242l1.032-1.031a4.482 4.482 0 01-3.695 1.57c-.995 0-1.93-.324-2.688-.875l1.047-1.047a1.5 1.5 0 10-2.121-2.121L6.72 15.15c-.55-1.054-.55-2.296 0-3.35l1.047-1.047a1.5 1.5 0 10-2.121-2.121L4.695 9.68A4.482 4.482 0 016.266 6c0-1.23.492-2.35 1.305-3.164L6.54 1.805A6.002 6.002 0 00.75 6.266c-1 2.387.104 5.234 2.227 7.357a1.5 1.5 0 002.121 0l1.016-1.016c.33-.33.33-.865 0-1.195l-1.047-1.047a2.983 2.983 0 010-4.218l1.047-1.047a1.5 1.5 0 000-2.121L5.11 2.227A6.024 6.024 0 006.266.75c2.515-1.104 5.362-.001 7.357 2.122l-1.31 1.31a4.48 4.48 0 01-2.61-.858z"
                clip-rule="evenodd"
              />
            </svg>
            <h2 class="mt-4 text-2xl font-extrabold text-gray-800">
              Sign in to your account
            </h2>
          </div>

          <!-- Form -->
          <div
            id="login-feedback"
            class="hidden mt-6 rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"
            data-role="feedback"
          ></div>

          <!-- Quick sign-in options -->
          <div id="quickAuthOptions" class="mt-6 space-y-4">
            <div
              class="rounded-md border border-gray-200 bg-white p-4"
              data-role="auth-whatsapp-option"
            >
              <div class="flex items-start justify-between gap-3">
                <div class="flex items-start gap-2">
                  <svg
                    class="mt-0.5 h-5 w-5"
                    viewBox="0 0 32 32"
                    fill="none"
                    aria-hidden="true"
                  >
                    <path
                      fill="#25D366"
                      d="M19.11 17.716c-.262-.13-1.55-.764-1.79-.85-.24-.087-.414-.13-.588.13-.173.26-.674.85-.826 1.025-.152.173-.304.195-.566.065-.262-.13-1.104-.406-2.102-1.295-.777-.692-1.302-1.547-1.455-1.81-.152-.26-.016-.4.114-.53.117-.116.262-.304.392-.456.13-.152.174-.26.262-.435.087-.173.043-.326-.022-.456-.065-.13-.588-1.416-.806-1.94-.212-.51-.427-.44-.588-.45-.152-.007-.326-.01-.5-.01s-.456.065-.695.326c-.24.26-.913.89-.913 2.17 0 1.282.935 2.522 1.064 2.696.13.173 1.84 2.808 4.456 3.936.622.268 1.108.428 1.487.548.625.2 1.194.17 1.644.104.5-.074 1.55-.633 1.77-1.244.217-.61.217-1.134.152-1.244-.065-.11-.24-.173-.5-.304z"
                    />
                    <path
                      fill="#25D366"
                      d="M16.01 3C9.38 3 4 8.38 4 15.01c0 2.11.55 4.17 1.6 5.99L4 29l8.18-1.55a11.94 11.94 0 0 0 3.83.62c6.63 0 12.01-5.38 12.01-12.01C28.02 8.38 22.64 3 16.01 3zm0 21.82c-1.24 0-2.45-.24-3.58-.71l-.26-.11-4.86.92.92-4.74-.12-.27a9.79 9.79 0 0 1-1.02-4.4c0-5.4 4.4-9.8 9.8-9.8 5.4 0 9.8 4.4 9.8 9.8 0 5.4-4.4 9.31-9.68 9.31z"
                    />
                  </svg>
                  <p class="text-sm font-semibold text-gray-800">
                    Continue with WhatsApp
                  </p>
                </div>
              </div>
              <p class="mt-1 text-xs text-gray-500">
                Weâ€™ll send a 6-digit code to your WhatsApp number (Nigeria
                only).
              </p>

              <form id="whatsappRequestForm" class="mt-4 flex gap-2">
                <label for="whatsappPhone" class="sr-only"
                  >WhatsApp number</label
                >
                <input
                  id="whatsappPhone"
                  name="whatsappPhone"
                  type="tel"
                  inputmode="tel"
                  autocomplete="tel"
                  class="form-input block w-full rounded-md px-3 py-3 text-sm text-gray-900 placeholder-gray-500 focus:z-10 sm:text-sm"
                  placeholder="e.g. 08012345678"
                  required
                />
                <button
                  type="submit"
                  id="whatsappSendBtn"
                  class="btn-whatsapp inline-flex shrink-0 items-center justify-center rounded-md px-4 py-3 text-sm font-semibold"
                >
                  Send code
                </button>
              </form>

              <form id="whatsappVerifyForm" class="mt-3 hidden flex gap-2">
                <label for="whatsappCode" class="sr-only">6-digit code</label>
                <input
                  id="whatsappCode"
                  name="whatsappCode"
                  inputmode="numeric"
                  pattern="[0-9]{6}"
                  maxlength="6"
                  class="form-input block w-full rounded-md px-3 py-3 text-sm text-gray-900 placeholder-gray-500 focus:z-10 sm:text-sm"
                  placeholder="Enter 6-digit code"
                  required
                />
                <button
                  type="submit"
                  id="whatsappVerifyBtn"
                  class="btn-whatsapp inline-flex shrink-0 items-center justify-center rounded-md px-4 py-3 text-sm font-semibold"
                >
                  Verify
                </button>
              </form>

              <div class="mt-3 flex items-center justify-between gap-3">
                <button
                  type="button"
                  id="whatsappResendBtn"
                  class="hidden text-xs font-semibold text-emerald-700 hover:text-emerald-600"
                >
                  Resend code
                </button>
                <button
                  type="button"
                  class="hidden text-xs font-semibold text-slate-600 hover:text-slate-700"
                  data-role="auth-show-all"
                >
                  Use another sign-in method
                </button>
              </div>
            </div>

            <div data-role="auth-google-option">
              <button
                type="button"
                id="googleSignInBtn"
                class="w-full inline-flex items-center justify-center gap-3 rounded-md border border-gray-200 bg-white px-4 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2"
              >
                <svg class="h-5 w-5" viewBox="0 0 48 48" aria-hidden="true">
                  <path
                    fill="#FFC107"
                    d="M43.611 20.083H42V20H24v8h11.303C33.928 32.659 29.384 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.053 6.053 29.268 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"
                  />
                  <path
                    fill="#FF3D00"
                    d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.053 6.053 29.268 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"
                  />
                  <path
                    fill="#4CAF50"
                    d="M24 44c5.166 0 9.86-1.977 13.409-5.197l-6.191-5.238C29.162 35.091 26.715 36 24 36c-5.362 0-9.89-3.317-11.277-7.946l-6.522 5.025C9.518 39.556 16.227 44 24 44z"
                  />
                  <path
                    fill="#1976D2"
                    d="M43.611 20.083H42V20H24v8h11.303c-.66 1.78-1.907 3.29-3.555 4.565l.003-.002 6.191 5.238C37.499 38.205 44 33.5 44 24c0-1.341-.138-2.65-.389-3.917z"
                  />
                </svg>
                <span>Continue with Google</span>
              </button>
            </div>

            <div class="relative" data-role="auth-divider">
              <div
                class="absolute inset-0 flex items-center"
                aria-hidden="true"
              >
                <div class="w-full border-t border-gray-200"></div>
              </div>
              <div class="relative flex justify-center">
                <span
                  class="bg-[#f0f4f8] px-2 text-xs font-semibold text-gray-500"
                  >Or sign in with username</span
                >
              </div>
            </div>
          </div>

          <form
            id="loginForm"
            class="mt-6 space-y-6"
            data-role="auth-login-form"
          >
            <div class="rounded-md shadow-sm -space-y-px">
              <div>
                <label for="username" class="sr-only">Username</label>
                <input
                  id="username"
                  name="username"
                  type="text"
                  autocomplete="username"
                  required
                  minlength="3"
                  pattern="[a-zA-Z0-9_-]+"
                  class="form-input appearance-none rounded-none relative block w-full px-3 py-3 border placeholder-gray-500 text-gray-900 rounded-t-md focus:z-10 sm:text-sm"
                  placeholder="Username"
                  title="Username must be at least 3 characters and contain only letters, numbers, hyphens, and underscores"
                />
              </div>
              <div class="relative">
                <label for="password" class="sr-only">Password</label>
                <input
                  id="password"
                  name="password"
                  type="password"
                  autocomplete="current-password"
                  required
                  minlength="6"
                  class="form-input appearance-none rounded-none relative block w-full px-3 py-3 border placeholder-gray-500 text-gray-900 rounded-b-md focus:z-10 sm:text-sm"
                  placeholder="Password"
                  title="Password must be at least 6 characters"
                />
                <button
                  type="button"
                  id="togglePassword"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5"
                >
                  <!-- Eye icon for password visibility -->
                  <svg
                    id="eyeIcon"
                    class="h-5 w-5 text-gray-500"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                    />
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                    />
                  </svg>
                  <svg
                    id="eyeOffIcon"
                    class="h-5 w-5 text-gray-500 hidden"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.05 10.05 0 013.542-5.175M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                    />
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5c1.206 0 2.37.248 3.448.69M19.07 19.07L4.93 4.93"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <input
                  id="remember-me"
                  name="remember-me"
                  type="checkbox"
                  class="h-4 w-4 text-cyan-600 focus:ring-cyan-500 border-gray-300 rounded"
                />
                <label
                  for="remember-me"
                  class="ml-2 block text-sm text-gray-900"
                >
                  Remember me
                </label>
              </div>

              <div class="text-sm">
                <a
                  href="forgot-password.html"
                  class="font-medium text-cyan-600 hover:text-cyan-500"
                >
                  Forgot your password?
                </a>
              </div>
            </div>

            <div>
              <button
                type="submit"
                class="btn-primary group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500"
                data-role="submit"
              >
                <span data-role="submit-text">Sign in</span>
              </button>
            </div>
          </form>

          <!-- WhatsApp post-OTP completion (shown only when needed) -->
          <section
            id="whatsappCompleteSection"
            class="hidden mt-8 rounded-xl border border-gray-200 bg-white p-5 shadow-sm"
            aria-hidden="true"
          >
            <h3 class="text-sm font-semibold text-gray-800">
              Finish setting up your account
            </h3>
            <p class="mt-1 text-xs text-gray-500">
              Please enter your details once. After this, you can continue to
              checkout.
            </p>

            <form id="whatsappCompleteForm" class="mt-4 space-y-3">
              <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
                <div>
                  <label
                    for="waFirstName"
                    class="block text-xs font-semibold text-gray-600"
                    >First name</label
                  >
                  <input
                    id="waFirstName"
                    name="waFirstName"
                    type="text"
                    autocomplete="given-name"
                    class="form-input mt-1 block w-full rounded-md px-3 py-3 text-sm text-gray-900"
                    required
                  />
                </div>
                <div>
                  <label
                    for="waLastName"
                    class="block text-xs font-semibold text-gray-600"
                    >Last name</label
                  >
                  <input
                    id="waLastName"
                    name="waLastName"
                    type="text"
                    autocomplete="family-name"
                    class="form-input mt-1 block w-full rounded-md px-3 py-3 text-sm text-gray-900"
                    required
                  />
                </div>
              </div>

              <div>
                <label
                  for="waSchoolName"
                  class="block text-xs font-semibold text-gray-600"
                  >School name</label
                >
                <input
                  id="waSchoolName"
                  name="waSchoolName"
                  type="text"
                  class="form-input mt-1 block w-full rounded-md px-3 py-3 text-sm text-gray-900"
                  placeholder="e.g. School of Nursing, Lagos"
                  required
                />
              </div>

              <div>
                <label
                  for="waEmail"
                  class="block text-xs font-semibold text-gray-600"
                  >Email</label
                >
                <input
                  id="waEmail"
                  name="waEmail"
                  type="email"
                  autocomplete="email"
                  class="form-input mt-1 block w-full rounded-md px-3 py-3 text-sm text-gray-900"
                  placeholder="e.g. you@example.com"
                  required
                />
                <p id="waEmailHelp" class="mt-1 hidden text-xs text-gray-500">
                  Email cannot be changed on this account.
                </p>
              </div>

              <button
                type="submit"
                id="waCompleteBtn"
                class="btn-primary w-full inline-flex items-center justify-center rounded-md px-4 py-3 text-sm font-semibold"
              >
                Save and continue
              </button>
            </form>
          </section>
        </div>
      </div>

      <!-- Decorative Side Panel (Hidden on mobile) -->
      <div
        class="hidden md:flex flex-col items-center justify-center p-12 text-center vector-background relative"
      >
        <div class="z-10">
          <h1
            class="text-4xl lg:text-5xl font-extrabold text-white tracking-tight"
          >
            Unlock Your Classroom's Potential
          </h1>
          <p class="mt-6 text-lg text-cyan-100 max-w-lg">
            Create engaging quizzes, track student progress, and gain valuable
            insights, all in one seamless platform.
          </p>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const loginForm = document.getElementById('loginForm');
        const passwordInput = document.getElementById('password');
        const togglePasswordBtn = document.getElementById('togglePassword');
        const eyeIcon = document.getElementById('eyeIcon');
        const eyeOffIcon = document.getElementById('eyeOffIcon');

        // Toggle password visibility
        togglePasswordBtn.addEventListener('click', () => {
          const type =
            passwordInput.getAttribute('type') === 'password'
              ? 'text'
              : 'password';
          passwordInput.setAttribute('type', type);

          // Toggle eye icons
          eyeIcon.classList.toggle('hidden');
          eyeOffIcon.classList.toggle('hidden');
        });
      });
    </script>
    <script>
      window.__SUPABASE_CONFIG__ = window.__SUPABASE_CONFIG__ || {
        url: 'https://ghnhfagydcynhkgbazbj.supabase.co',
        anonKey:
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdobmhmYWd5ZGN5bmhrZ2JhemJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDM2MjQsImV4cCI6MjA3NDU3OTYyNH0.KHgZ_ESTneR0CqWBGfu-JOmI3eBBLCZr1XG-g2vpclw',
      };
    </script>
    <script type="module" src="./src/auth.js?v=cbd263c"></script>
    <script type="module" src="src/pwa-bootstrap.js?v=cbd263c"></script>
  </body>
</html>
