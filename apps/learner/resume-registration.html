<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Resume Checkout | Academic Nightingale</title>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
    <link rel="stylesheet" href="../assets/tailwind.css" />
  </head>
  <body class="bg-slate-100 text-slate-900 antialiased">
    <div class="min-h-screen py-10">
      <main class="mx-auto flex max-w-5xl flex-col gap-8 px-4">
        <header class="flex flex-col gap-2">
          <p class="inline-flex w-fit items-center gap-2 rounded-full bg-cyan-50 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-cyan-700">
            Finish your subscription
          </p>
          <h1 class="text-3xl font-semibold text-slate-900">
            Complete payment to activate your plan
          </h1>
          <p class="max-w-2xl text-sm text-slate-600">
            You already created your Academic Nightingale account. Pick the department and plan you want, pay securely with Paystack, and we’ll unlock your dashboard instantly—no need to fill the registration form again.
          </p>
        </header>

        <div
          id="status-banner"
          class="hidden rounded-xl border border-slate-200 bg-white/60 px-4 py-3 text-sm"
          role="alert"
        ></div>

        <section class="grid gap-6 lg:grid-cols-[1.1fr,1fr]">
          <article class="rounded-2xl border border-slate-200 bg-white shadow-sm">
            <header class="border-b border-slate-100 px-6 py-4">
              <h2 class="text-lg font-semibold text-slate-900">Your account details</h2>
              <p class="text-sm text-slate-500">We’ll attach the plan to this learner profile.</p>
            </header>
            <dl class="grid gap-4 px-6 py-6 text-sm">
              <div class="grid gap-1">
                <dt class="font-medium text-slate-600">Full name</dt>
                <dd class="font-semibold text-slate-900" data-field="full-name">—</dd>
              </div>
              <div class="grid gap-1">
                <dt class="font-medium text-slate-600">Email</dt>
                <dd class="font-semibold text-slate-900" data-field="email">—</dd>
              </div>
              <div class="grid gap-1">
                <dt class="font-medium text-slate-600">Phone</dt>
                <dd class="font-semibold text-slate-900" data-field="phone">—</dd>
              </div>
              <div class="grid gap-1">
                <dt class="font-medium text-slate-600">Username</dt>
                <dd class="font-semibold text-slate-900" data-field="username">—</dd>
              </div>
            </dl>
          </article>

          <article class="rounded-2xl border border-slate-200 bg-white shadow-sm">
            <header class="border-b border-slate-100 px-6 py-4">
              <h2 class="text-lg font-semibold text-slate-900">Selected plan</h2>
              <p class="text-sm text-slate-500">
                We saved the plan you chose earlier. Review the summary and finish payment securely.
              </p>
            </header>
            <div class="grid gap-5 px-6 py-6 text-sm">
              <div>
                <span class="inline-flex items-center gap-2 rounded-full border border-cyan-200 bg-cyan-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-cyan-700" data-role="plan-chip">
                  Pending activation
                </span>
                <h3 class="mt-3 text-2xl font-semibold text-slate-900" data-role="plan-name">—</h3>
                <p class="mt-1 text-sm text-slate-600" data-role="plan-description">
                  We’ll display plan details here as soon as we retrieve them.
                </p>
              </div>

              <dl class="grid gap-3 rounded-xl border border-slate-100 bg-slate-50/60 px-4 py-4 text-sm">
                <div class="flex items-center justify-between">
                  <dt class="text-slate-500">Department</dt>
                  <dd class="font-semibold text-slate-900" data-role="plan-department">—</dd>
                </div>
                <div class="flex items-center justify-between">
                  <dt class="text-slate-500">Daily practice</dt>
                  <dd class="font-semibold text-slate-900" data-role="plan-daily-limit">—</dd>
                </div>
                <div class="flex items-center justify-between">
                  <dt class="text-slate-500">Access length</dt>
                  <dd class="font-semibold text-slate-900" data-role="plan-duration">—</dd>
                </div>
                <div class="flex items-center justify-between">
                  <dt class="text-slate-500">Price</dt>
                  <dd class="text-lg font-semibold text-slate-900" data-role="plan-price">—</dd>
                </div>
              </dl>

              <div
                id="planSummary"
                class="rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600"
              ></div>

              <button
                id="payButton"
                type="button"
                class="inline-flex items-center justify-center rounded-xl bg-cyan-700 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-cyan-800 disabled:cursor-not-allowed disabled:bg-slate-400"
                disabled
              >
                Pay securely with Paystack
              </button>
            </div>
          </article>
        </section>

        <section
          id="successSection"
          class="hidden rounded-2xl border border-emerald-200 bg-emerald-50 px-6 py-5 text-sm text-emerald-800"
        >
          <h2 class="text-lg font-semibold text-emerald-900">Payment confirmed</h2>
          <p class="mt-2">
            Your subscription is active. We’re taking you to your dashboard now.
          </p>
        </section>

        <footer class="mt-auto text-center text-xs text-slate-500">
          &copy; <span id="footerYear"></span> Academic Nightingale. All rights reserved.
        </footer>
      </main>
    </div>

    <script src="https://js.paystack.co/v1/inline.js" defer></script>
    <script>
      window.__PAYSTACK_PUBLIC_KEY__ =
        'pk_live_f3ee8a87f3c9355367009f94fce2ed197c906ef8';
      window.__PAYSTACK_CONFIG__ = window.__PAYSTACK_CONFIG__ || {
        publicKey: window.__PAYSTACK_PUBLIC_KEY__,
      };
    </script>
    <script>
      window.__SUPABASE_CONFIG__ = window.__SUPABASE_CONFIG__ || {
        url: 'https://ghnhfagydcynhkgbazbj.supabase.co',
        anonKey:
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdobmhmYWd5ZGN5bmhrZ2JhemJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDM2MjQsImV4cCI6MjA3NDU3OTYyNH0.KHgZ_ESTneR0CqWBGfu-JOmI3eBBLCZr1XG-g2vpclw',
      };
    </script>
    <script type="module" src="./src/resume-registration.js"></script>
  </body>
</html>
