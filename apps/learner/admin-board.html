<!doctype html>
<html lang="en">
  <head>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learner Dashboard | Academic Nightingale</title>
    <link rel="stylesheet" href="../assets/tailwind.css" />
    <style>
      :root {
        color-scheme: light;
      }

      body {
        font-family:
          'Inter', 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        background-color: #f6f8fb;
        color: #0f172a;
      }

      .nav-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 0.875rem;
        color: #0f172a;
        transition: all 0.18s ease;
        flex: 1;
        min-width: 0;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
      }

      .nav-button svg {
        width: 1.25rem;
        height: 1.25rem;
        color: inherit;
        flex-shrink: 0;
      }

      .nav-button span {
        font-size: 0.875rem;
        line-height: 1.2;
        min-width: 0;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .nav-button__badge {
        position: absolute;
        top: 0.55rem;
        right: 0.6rem;
        min-width: 1.25rem;
        height: 1.25rem;
        border-radius: 9999px;
        background: #ef4444;
        color: #ffffff;
        font-size: 0.65rem;
        font-weight: 700;
        letter-spacing: -0.01em;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 0 0.35rem;
        box-shadow: 0 6px 16px -6px rgba(239, 68, 68, 0.5);
      }

      .nav-button__badge.is-visible {
        display: inline-flex;
      }

      .nav-button:hover {
        background: rgba(8, 145, 178, 0.12);
        color: #036581;
        transform: translateY(-1px);
      }

      .nav-button--active {
        background: linear-gradient(135deg, #0f9ac7, #0ea5b8);
        color: #ffffff;
        box-shadow: 0 4px 12px -2px rgba(6, 148, 168, 0.4);
        transform: translateY(-1px);
      }

      .nav-button--active svg {
        color: #ffffff;
      }

      .nav-button[disabled] {
        opacity: 0.45;
        cursor: not-allowed;
        transform: none;
      }

      .nav-button[disabled]:hover {
        transform: none;
        background: transparent;
        color: #0f172a;
      }

      .card {
        background: rgba(255, 255, 255, 0.94);
        border-radius: 1.5rem;
        border: 1px solid rgba(148, 163, 184, 0.18);
        box-shadow: 0 24px 60px -40px rgba(15, 23, 42, 0.45);
      }

      .stat-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        border-radius: 9999px;
        border: 1px solid rgba(8, 145, 178, 0.35);
        background: rgba(8, 145, 178, 0.12);
        padding: 0.35rem 0.9rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: #036581;
        letter-spacing: 0.05em;
        text-transform: uppercase;
      }

      /* Bottom navigation bar specific styles */
      .fixed.bottom-0 {
        box-shadow: 0 -4px 20px -4px rgba(0, 0, 0, 0.1);
      }

      /* Safe area for mobile devices with notch/home indicator */
      .safe-area-inset-bottom {
        padding-bottom: env(safe-area-inset-bottom);
      }

      /* Ensure buttons are always clickable and accessible */
      .nav-button {
        position: relative;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
        -webkit-user-select: none;
      }

      /* Prevent scrolling issues on mobile */
      body {
        overscroll-behavior: contain;
      }

      /* Ensure navigation stays above all content */
      .z-50 {
        z-index: 9999;
      }

      /* Mobile-first button bar styles */
      @media (max-width: 767px) {
        [data-role='nav-buttons'] {
          grid-template-columns: repeat(5, 1fr);
          gap: 0.125rem;
          padding: 0.25rem;
          max-width: 100%;
          margin: 0 auto;
          height: auto;
        }

        .nav-button {
          padding: 0.75rem 0.25rem;
          font-size: 0.625rem;
          flex-direction: column;
          gap: 0.25rem;
          min-height: 3.75rem;
          min-width: 44px;
          border-radius: 0.5rem;
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(10px);
          transition: all 0.2s ease;
          cursor: pointer;
        }

        .nav-button:active {
          transform: scale(0.95);
        }

        .nav-button svg {
          width: 1.25rem;
          height: 1.25rem;
          flex-shrink: 0;
        }

        .nav-button span {
          font-size: 0.625rem;
          line-height: 1;
          font-weight: 500;
          text-align: center;
        }

        .nav-button:hover {
          background: rgba(8, 145, 178, 0.15);
        }

        .nav-button--active {
          background: linear-gradient(135deg, #0f9ac7, #0ea5b8);
          box-shadow: 0 2px 8px -2px rgba(6, 148, 168, 0.5);
        }

        .nav-button--active:active {
          transform: scale(0.98);
        }

        /* Ensure navigation is always visible */
        .fixed.bottom-0 {
          position: fixed !important;
          bottom: 0 !important;
          left: 0 !important;
          right: 0 !important;
        }

        /* Handle viewport height issues on mobile */
        @supports (height: 100dvh) {
          .fixed.bottom-0 {
            height: auto;
          }
        }

        /* Prevent zoom on input focus (iOS Safari fix) */
        @supports (-webkit-touch-callout: none) {
          .nav-button {
            font-size: 16px;
          }
        }
      }

      .community-shell {
        display: grid;
        gap: 1.5rem;
        grid-template-columns: 1fr;
      }

      @media (min-width: 1024px) {
        .community-shell {
          grid-template-columns: 340px minmax(0, 1fr);
        }
      }

      .community-thread-panel {
        background: rgba(255, 255, 255, 0.94);
        border: 1px solid rgba(148, 163, 184, 0.18);
        border-radius: 1.5rem;
        padding: 1.25rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        min-height: 24rem;
      }

      .community-panel-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }

      .community-panel-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #0f172a;
      }

      .community-panel-subtitle {
        font-size: 0.85rem;
        color: #64748b;
      }

      .community-panel-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-shrink: 0;
      }

      .community-thread-list {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .community-thread-card {
        border-radius: 1rem;
        border: 1px solid transparent;
        background: rgba(255, 255, 255, 0.88);
        padding: 0.85rem 1rem;
        box-shadow: 0 6px 16px -12px rgba(15, 23, 42, 0.6);
        cursor: pointer;
        transition: all 0.2s ease;
        display: grid;
        gap: 0.35rem;
      }

      .community-thread-card:hover {
        border-color: rgba(14, 165, 233, 0.35);
        box-shadow: 0 12px 24px -18px rgba(14, 165, 233, 0.5);
      }

      .community-thread-card--active {
        border-color: rgba(14, 165, 233, 0.6);
        background: rgba(236, 254, 255, 0.7);
        box-shadow: 0 18px 40px -24px rgba(14, 165, 233, 0.7);
      }

      .community-thread-card__title {
        font-weight: 600;
        color: #0f172a;
        font-size: 0.95rem;
      }

      .community-thread-card__meta {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.75rem;
        color: #64748b;
        flex-wrap: wrap;
      }

      .community-thread-card__snippet {
        font-size: 0.8rem;
        color: #475569;
        line-height: 1.45;
        max-height: 3em;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .community-thread-card__badge {
        margin-left: auto;
        background: rgba(248, 113, 113, 0.18);
        color: #b91c1c;
        border-radius: 999px;
        font-size: 0.7rem;
        font-weight: 600;
        padding: 0.15rem 0.5rem;
      }

      .community-ghost-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        padding: 0.55rem 0.9rem;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 0.85rem;
        color: #0f172a;
        border: 1px solid rgba(148, 163, 184, 0.28);
        background: rgba(248, 250, 252, 0.85);
        transition: all 0.2s ease;
      }

      .community-ghost-btn:hover {
        border-color: rgba(14, 165, 233, 0.4);
        color: #0d4f8b;
      }

      .community-primary-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        padding: 0.65rem 1.1rem;
        border-radius: 0.9rem;
        font-weight: 600;
        font-size: 0.85rem;
        color: #ffffff;
        background: linear-gradient(135deg, #0ea5b8, #0284c7);
        box-shadow: 0 14px 30px -18px rgba(2, 132, 199, 0.9);
        transition: all 0.2s ease;
      }

      .community-primary-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 20px 35px -18px rgba(2, 132, 199, 0.95);
      }

      .community-detail-panel {
        background: rgba(255, 255, 255, 0.94);
        border: 1px solid rgba(148, 163, 184, 0.18);
        border-radius: 1.5rem;
        padding: 1.5rem;
        min-height: 24rem;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .community-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        gap: 0.75rem;
        color: #475569;
        min-height: 320px;
      }

      .community-empty h3 {
        font-size: 1.1rem;
        font-weight: 600;
        color: #0f172a;
      }

      .community-empty-icon {
        font-size: 2rem;
      }

      .community-thread-view {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        min-height: 20rem;
      }

      .community-thread-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 1rem;
      }

      .community-thread-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #0f172a;
        margin-top: 0.25rem;
      }

      .community-thread-meta {
        font-size: 0.8rem;
        color: #64748b;
      }

      .community-back-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.35rem 0.45rem;
        border-radius: 0.75rem;
        border: 1px solid rgba(148, 163, 184, 0.28);
        color: #0f172a;
        background: rgba(255, 255, 255, 0.7);
        font-size: 0.8rem;
        font-weight: 500;
      }

      .community-back-btn svg {
        width: 1rem;
        height: 1rem;
      }

      @media (min-width: 1024px) {
        .community-back-btn {
          display: none;
        }
      }

      .community-message-list {
        flex: 1;
        overflow-y: auto;
        padding: 0.25rem 0.1rem 0.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .community-message {
        max-width: min(80%, 520px);
        border-radius: 1.25rem;
        padding: 0.75rem 1rem;
        background: rgba(248, 250, 252, 0.9);
        border: 1px solid rgba(203, 213, 225, 0.5);
        color: #0f172a;
        display: grid;
        gap: 0.35rem;
        box-shadow: 0 10px 24px -18px rgba(15, 23, 42, 0.6);
      }

      .community-message--self {
        margin-left: auto;
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.15), rgba(6, 182, 212, 0.25));
        border-color: rgba(14, 165, 233, 0.45);
      }

      .community-message-author {
        font-size: 0.75rem;
        font-weight: 600;
        color: #036581;
      }

      .community-message-body {
        font-size: 0.9rem;
        line-height: 1.5;
        word-break: break-word;
      }

      .community-message-time {
        font-size: 0.7rem;
        color: #64748b;
        justify-self: end;
      }

      .community-message-attachments {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
        margin-top: 0.25rem;
      }

      .community-attachment-preview {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 1rem;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.32);
        padding: 0.25rem;
        max-width: 200px;
        overflow: hidden;
      }

      .community-attachment-image {
        border-radius: 0.9rem;
        object-fit: cover;
        width: 100%;
        max-height: 180px;
      }

      .community-attachment-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        padding: 0.45rem 0.7rem;
        border-radius: 0.85rem;
        font-size: 0.75rem;
        background: rgba(248, 250, 252, 0.9);
        border: 1px solid rgba(203, 213, 225, 0.6);
        color: #0f172a;
        max-width: 220px;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
      }

      .community-attachment-chip button {
        margin-left: auto;
        border: none;
        background: transparent;
        color: #ef4444;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.75rem;
      }

      .community-composer {
        border-top: 1px solid rgba(226, 232, 240, 0.8);
        padding-top: 1rem;
        display: grid;
        gap: 0.75rem;
      }

      .community-composer-label {
        font-size: 0.8rem;
        font-weight: 600;
        color: #0f172a;
      }

      .community-textarea {
        width: 100%;
        border-radius: 1rem;
        border: 1px solid rgba(203, 213, 225, 0.8);
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        color: #0f172a;
        background: rgba(255, 255, 255, 0.95);
        resize: none;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      .community-textarea:focus {
        outline: none;
        border-color: rgba(14, 165, 233, 0.6);
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.2);
      }

      .community-attachments {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .community-composer-actions {
        display: flex;
        align-items: center;
        gap: 0.65rem;
        flex-wrap: wrap;
      }

      .community-composer-spacer {
        flex: 1;
      }

      .community-message-divider {
        height: 1px;
        background: rgba(226, 232, 240, 0.5);
        margin: 0.5rem 0;
      }

      @media (max-width: 1023px) {
        .community-panel-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .community-panel-actions {
          width: 100%;
          justify-content: flex-start;
        }

        .community-primary-btn,
        .community-ghost-btn {
          width: auto;
        }

        .community-thread-panel,
        .community-detail-panel {
          padding: 1.1rem;
        }
      }

      .community-compose-view {
        background: rgba(255, 255, 255, 0.96);
        border-radius: 1.5rem;
        border: 1px solid rgba(148, 163, 184, 0.2);
        box-shadow: 0 20px 60px -30px rgba(15, 23, 42, 0.5);
        padding: 1.5rem;
        display: grid;
        gap: 1.25rem;
      }

      .community-compose-form {
        display: grid;
        gap: 1.25rem;
      }

      .community-compose-headline {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 1rem;
      }

      .community-compose-headline h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 0.35rem;
      }

      .community-compose-headline p {
        font-size: 0.85rem;
        color: #64748b;
      }

      .community-field {
        display: grid;
        gap: 0.5rem;
      }

      .community-field label,
      .community-field span {
        font-size: 0.8rem;
        font-weight: 600;
        color: #0f172a;
      }

      .community-input {
        width: 100%;
        border-radius: 1rem;
        border: 1px solid rgba(203, 213, 225, 0.8);
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        color: #0f172a;
        background: rgba(255, 255, 255, 0.96);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      .community-input:focus {
        outline: none;
        border-color: rgba(14, 165, 233, 0.6);
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.2);
      }

      .community-compose-footer {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      @media (min-width: 640px) and (max-width: 767px) {
        .nav-button {
          padding: 0.625rem 0.5rem;
          font-size: 0.6875rem;
          min-height: 3.5rem;
        }

        .nav-button svg {
          width: 1.125rem;
          height: 1.125rem;
        }

        .nav-button span {
          font-size: 0.6875rem;
        }
      }

      @media (min-width: 768px) {
        .fixed.bottom-0 .px-8 {
          max-width: 1200px;
          margin: 0 auto;
        }

        [data-role='nav-buttons'] {
          grid-template-columns: repeat(4, 1fr);
          gap: 0.375rem;
          padding: 0.375rem;
          max-width: 600px;
          margin: 0 auto;
        }

        .nav-button {
          padding: 0.75rem 0.5rem;
          font-size: 0.75rem;
          flex-direction: column;
          gap: 0.25rem;
          min-height: 4rem;
        }

        .nav-button svg {
          width: 1.25rem;
          height: 1.25rem;
        }

        .nav-button span {
          font-size: 0.75rem;
          line-height: 1.1;
          font-weight: 500;
        }
      }

      @media (min-width: 1024px) {
        [data-role='nav-buttons'] {
          display: flex;
          flex-direction: row;
          gap: 0.25rem;
          padding: 0.375rem;
          overflow-x: auto;
          max-width: 800px;
          margin: 0 auto;
          justify-content: center;
        }

        .nav-button {
          padding: 0.75rem 1.25rem;
          font-size: 0.9375rem;
          flex-direction: row;
          gap: 0.65rem;
          min-height: auto;
          flex: 0 0 auto;
          white-space: nowrap;
          background: rgba(255, 255, 255, 0.95);
        }

        .nav-button svg {
          width: 1.25rem;
          height: 1.25rem;
        }

        .nav-button span {
          font-size: 0.9375rem;
          line-height: 1.2;
          font-weight: 600;
        }
      }

      @media (min-width: 1280px) {
        .nav-button {
          padding: 0.875rem 1.5rem;
          font-size: 1rem;
        }

        [data-role='nav-buttons'] {
          max-width: 900px;
        }
      }
    </style>
  </head>
  <body class="antialiased">
    <div class="flex min-h-screen flex-col bg-slate-50 text-slate-900">
      <!-- User Info Bar -->
      <div class="bg-white border-b border-slate-200/50">
        <div class="px-4 py-3 sm:px-6 sm:py-4 lg:px-8">
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-500 to-emerald-500 text-white shadow-lg"
            >
              <svg viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                />
              </svg>
            </div>
            <div>
              <h1
                class="text-lg font-semibold text-slate-900"
                data-role="user-greeting"
              >
                Your workspace
              </h1>
              <p class="text-sm text-slate-600" data-role="user-email"></p>
            </div>
          </div>
        </div>
      </div>

      <main class="flex-1 overflow-y-auto pb-20">
        <div class="mx-auto w-full max-w-5xl px-4 py-8 sm:px-6 lg:px-8">
          <div
            class="mb-6 hidden rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700"
            role="status"
            data-role="toast"
          ></div>

          <div
            data-role="payment-gate"
            class="hidden rounded-3xl border border-cyan-200 bg-cyan-50/80 p-6 text-slate-700 shadow-sm"
          >
            <span class="stat-chip" data-role="gated-badge">Activate plan</span>
            <h2
              class="mt-3 text-2xl font-semibold text-slate-900"
              data-role="gated-title"
            >
              Almost there—finish activating your plan
            </h2>
            <p
              class="mt-2 text-sm leading-relaxed text-slate-600"
              data-role="gated-body"
            >
              We saved your selection. Complete payment to unlock your
              personalised drills.
            </p>
            <div class="mt-5 flex flex-wrap items-center gap-3">
              <a
                href="resume-registration.html"
                data-role="gated-action"
                class="inline-flex items-center justify-center rounded-xl bg-cyan-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-cyan-700"
              >
                Finish payment
              </a>
              <button
                type="button"
                data-nav-target="plan"
                class="inline-flex items-center justify-center rounded-xl border border-cyan-200 px-4 py-2.5 text-sm font-semibold text-cyan-700 hover:border-cyan-300 hover:text-cyan-800"
              >
                View plan details
              </button>
            </div>
          </div>

          <section data-view="dashboard" class="space-y-8">
            <div data-role="dashboard-content" class="space-y-8">
              <section
                class="rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm sm:p-8"
              >
                <div
                  class="flex flex-col gap-8 lg:flex-row lg:items-start lg:justify-between"
                >
                  <div class="space-y-5 lg:max-w-xl">
                    <span class="stat-chip">Today's focus</span>
                    <div>
                      <h2
                        class="text-3xl font-bold text-slate-900 sm:text-4xl"
                        data-role="hero-name"
                      >
                        Ready to crush today's goals
                      </h2>
                      <p
                        class="mt-3 text-sm text-slate-600"
                        data-role="hero-plan-headline"
                      >
                        We’ll guide you through the exact questions you need to
                        stay exam-ready.
                      </p>
                    </div>
                    <div class="grid grid-cols-2 gap-3 sm:grid-cols-4">
                      <article
                        class="rounded-2xl border border-slate-100 bg-slate-50/70 p-4 text-center"
                      >
                        <p
                          class="text-xs font-semibold uppercase tracking-wide text-slate-500"
                        >
                          Status
                        </p>
                        <p
                          class="mt-2 text-lg font-semibold text-slate-900"
                          data-role="stat-status"
                        >
                          —
                        </p>
                      </article>
                      <article
                        class="rounded-2xl border border-slate-100 bg-slate-50/70 p-4 text-center"
                      >
                        <p
                          class="text-xs font-semibold uppercase tracking-wide text-slate-500"
                        >
                          Progress
                        </p>
                        <p
                          class="mt-2 text-lg font-semibold text-slate-900"
                          data-role="stat-progress"
                        >
                          —
                        </p>
                      </article>
                      <article
                        class="rounded-2xl border border-slate-100 bg-slate-50/70 p-4 text-center"
                      >
                        <p
                          class="text-xs font-semibold uppercase tracking-wide text-slate-500"
                        >
                          Score
                        </p>
                        <p
                          class="mt-2 text-lg font-semibold text-slate-900"
                          data-role="stat-score"
                        >
                          —
                        </p>
                      </article>
                      <article
                        class="rounded-2xl border border-slate-100 bg-slate-50/70 p-4 text-center"
                      >
                        <p
                          class="text-xs font-semibold uppercase tracking-wide text-slate-500"
                        >
                          Streak
                        </p>
                        <p
                          class="mt-2 text-lg font-semibold text-slate-900"
                          data-role="stat-streak"
                        >
                          —
                        </p>
                      </article>
                    </div>
                  </div>
                  <div
                    class="flex w-full flex-col gap-4 rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm lg:max-w-sm"
                  >
                    <div
                      class="flex items-center justify-between text-sm font-semibold text-slate-600"
                    >
                      <span>Plan progress</span>
                      <span
                        class="text-cyan-600"
                        data-role="hero-days-remaining"
                        >Keep going!</span
                      >
                    </div>
                    <div
                      class="h-2.5 w-full overflow-hidden rounded-full bg-slate-100"
                    >
                      <div
                        class="h-full rounded-full bg-gradient-to-r from-cyan-500 via-cyan-600 to-emerald-500 transition-all duration-700"
                        style="width: 0%"
                        data-role="hero-progress-bar"
                      ></div>
                    </div>
                    <p
                      class="text-xs text-slate-500"
                      data-role="hero-progress-label"
                    >
                      We'll update this as you work through today's session.
                    </p>
                  </div>
                </div>
              </section>

              <section class="grid gap-6">
                <article class="card p-6 sm:p-7">
                  <div class="flex items-center justify-between gap-3">
                    <div>
                      <h3
                        class="text-xl font-semibold text-slate-900"
                        data-role="quiz-title"
                      >
                        Today's personalised drill
                      </h3>
                      <p
                        class="mt-1 text-sm text-slate-600"
                        data-role="quiz-subtitle"
                      >
                        Stay consistent—complete this session to keep your
                        streak alive.
                      </p>
                    </div>
                    <span
                      class="rounded-full border border-cyan-200 bg-cyan-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-cyan-700"
                      data-role="quiz-timer"
                    >
                      <span data-role="quiz-timer-value">—</span>
                    </span>
                  </div>
                  <ul
                    class="mt-5 space-y-3 text-sm text-slate-600"
                    data-role="questions"
                  ></ul>
                  <div class="mt-6 flex flex-wrap items-center gap-3">
                    <button
                      type="button"
                      class="inline-flex items-center justify-center rounded-xl bg-cyan-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-cyan-700"
                      data-role="resume-quiz"
                    >
                      Start / resume session
                    </button>
                    <button
                      type="button"
                      class="inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2.5 text-sm font-semibold text-slate-600 hover:border-cyan-200 hover:text-cyan-700"
                      data-role="regenerate-quiz"
                    >
                      Regenerate session
                    </button>
                  </div>
                  <div
                    class="mt-6 hidden rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700"
                    data-role="completion-banner"
                  ></div>
                </article>
              </section>

              <section
                class="rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm sm:p-8"
              >
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <h3 class="text-xl font-semibold text-slate-900">
                      Recent activity
                    </h3>
                    <p class="text-sm text-slate-600">
                      Track how your sessions are trending over time.
                    </p>
                  </div>
                  <p
                    class="text-xs font-semibold uppercase tracking-[0.32em] text-slate-400"
                    data-role="history-summary"
                  >
                    —
                  </p>
                </div>
                <div class="mt-6 space-y-4" data-role="history-cards"></div>
                <div class="mt-6 overflow-x-auto">
                  <table class="min-w-full divide-y divide-slate-200 text-sm">
                    <thead>
                      <tr
                        class="text-left text-xs font-semibold uppercase tracking-wide text-slate-500"
                      >
                        <th class="px-3 py-2">Session</th>
                        <th class="px-3 py-2">Score</th>
                        <th class="px-3 py-2">Questions</th>
                        <th class="px-3 py-2">Duration</th>
                        <th class="px-3 py-2">Completed</th>
                      </tr>
                    </thead>
                    <tbody
                      class="divide-y divide-slate-100"
                      data-role="history-body"
                    ></tbody>
                  </table>
                </div>
              </section>
            </div>
          </section>

          <section data-view="plan" class="hidden space-y-6">
            <header class="space-y-2">
              <h2
                class="text-2xl font-semibold text-slate-900"
                data-role="plan-heading"
              >
                Your study plan
              </h2>
              <p class="text-sm text-slate-600" data-role="plan-subheading">
                We’ll surface the plan we’re actively scheduling for you here.
              </p>
            </header>
            <div
              class="rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm sm:p-7"
              data-role="subscription-card"
            ></div>
            <div class="flex flex-wrap items-center gap-3">
              <button
                type="button"
                class="inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2.5 text-sm font-semibold text-slate-600 hover:border-cyan-200 hover:text-cyan-700"
                data-role="plan-browse"
              >
                Browse other plans
              </button>
            </div>
            <div class="grid gap-4" data-role="plan-collection"></div>
          </section>

          <section data-view="community" class="hidden space-y-6">
            <header class="space-y-2">
              <h2 class="text-2xl font-semibold text-slate-900">
                Community
              </h2>
              <p class="text-sm text-slate-600">
                Swap strategies, stay motivated, and support classmates in a
                calm shared space.
              </p>
            </header>
            <div class="community-shell" data-role="community-shell">
              <aside class="community-thread-panel">
                <div class="community-panel-header">
                  <div>
                    <h3 class="community-panel-title">Threads</h3>
                    <p class="community-panel-subtitle">
                      Latest conversations from your peers
                    </p>
                  </div>
                  <div class="community-panel-actions">
                    <button
                      type="button"
                      class="community-ghost-btn"
                      data-action="community-refresh"
                    >
                      Refresh
                    </button>
                    <button
                      type="button"
                      class="community-primary-btn"
                      data-action="community-open-composer"
                    >
                      New thread
                    </button>
                  </div>
                </div>
                <div
                  class="community-thread-list"
                  data-role="community-thread-list"
                ></div>
              </aside>
              <section class="community-detail-panel">
                <div
                  class="community-empty"
                  data-role="community-empty-state"
                >
                  <div class="community-empty-icon">💬</div>
                  <h3>Nothing selected yet</h3>
                  <p>
                    Pick a thread to read the conversation, or start your own to
                    get replies from classmates.
                  </p>
                  <button
                    type="button"
                    class="community-primary-btn"
                    data-action="community-open-composer"
                  >
                    Start a thread
                  </button>
                </div>
                <article
                  class="community-thread-view hidden"
                  data-role="community-thread-view"
                >
                  <header class="community-thread-header">
                    <div>
                      <button
                        type="button"
                        class="community-back-btn"
                        data-action="community-close-thread"
                      >
                        <svg
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M15 19l-7-7 7-7"
                          />
                        </svg>
                        Back
                      </button>
                      <h3
                        class="community-thread-title"
                        data-role="community-thread-title"
                      >
                        —
                      </h3>
                      <p
                        class="community-thread-meta"
                        data-role="community-thread-meta"
                      >
                        —
                      </p>
                    </div>
                    <button
                      type="button"
                      class="community-ghost-btn"
                      data-action="community-mark-read"
                    >
                      Mark as read
                    </button>
                  </header>
                  <div
                    class="community-message-list"
                    data-role="community-message-list"
                  ></div>
                  <form
                    class="community-composer"
                    data-role="community-reply-form"
                  >
                    <label class="community-composer-label" for="community-reply"
                      >Reply</label
                    >
                    <textarea
                      id="community-reply"
                      rows="2"
                      class="community-textarea"
                      placeholder="Share an update or drop encouragement…"
                      data-role="community-reply-input"
                      required
                    ></textarea>
                    <div
                      class="community-attachments"
                      data-role="community-reply-attachments"
                    ></div>
                    <div class="community-composer-actions">
                      <label class="community-ghost-btn">
                        <input
                          type="file"
                          class="hidden"
                          multiple
                          accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"
                          data-role="community-reply-file"
                        />
                        Add file
                      </label>
                      <div class="community-composer-spacer"></div>
                      <button
                        type="submit"
                        class="community-primary-btn"
                        data-role="community-reply-submit"
                      >
                        Send
                      </button>
                    </div>
                  </form>
                </article>
              </section>
            </div>
            <div
              class="community-compose-view hidden"
              data-role="community-thread-composer"
            >
              <form
                class="community-compose-form"
                data-role="community-thread-form"
              >
                <header class="community-compose-headline">
                  <div>
                    <h3>Start a new thread</h3>
                    <p>
                      Set a clear topic and open the floor for supportive
                      conversation.
                    </p>
                  </div>
                  <button
                    type="button"
                    class="community-ghost-btn"
                    data-action="community-close-composer"
                  >
                    Cancel
                  </button>
                </header>
                <div class="community-field">
                  <label for="community-thread-title">Title</label>
                  <input
                    id="community-thread-title"
                    type="text"
                    class="community-input"
                    maxlength="120"
                    placeholder="e.g. Tips for tackling dosage calculations"
                    data-role="community-thread-title"
                    required
                  />
                </div>
                <div class="community-field">
                  <label for="community-thread-message">Message</label>
                  <textarea
                    id="community-thread-message"
                    rows="4"
                    class="community-textarea"
                    placeholder="Share context, resources, or a motivating prompt…"
                    data-role="community-thread-message"
                    required
                  ></textarea>
                </div>
                <div class="community-field">
                  <span>Attachments</span>
                  <div
                    class="community-attachments"
                    data-role="community-thread-attachments"
                  ></div>
                  <label class="community-ghost-btn">
                    <input
                      type="file"
                      class="hidden"
                      multiple
                      accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"
                      data-role="community-thread-file"
                    />
                    Add files
                  </label>
                </div>
                <footer class="community-compose-footer">
                  <button
                    type="button"
                    class="community-ghost-btn"
                    data-action="community-close-composer"
                  >
                    Close
                  </button>
                  <div class="community-composer-spacer"></div>
                  <button
                    type="submit"
                    class="community-primary-btn"
                    data-role="community-thread-submit"
                  >
                    Post thread
                  </button>
                </footer>
              </form>
            </div>
          </section>

          <section data-view="bonus" class="hidden space-y-6">
            <header class="space-y-2">
              <h2 class="text-2xl font-semibold text-slate-900">
                Bonus question sets
              </h2>
              <p class="text-sm text-slate-600">
                Explore extra practice curated for live classes, mock exams, and
                advanced drills.
              </p>
            </header>
            <div class="space-y-4" data-role="extra-sets-section">
              <div
                class="grid gap-4 md:grid-cols-2"
                data-role="extra-sets-list"
              ></div>
            </div>
          </section>

          <section data-view="profile" class="hidden space-y-6">
            <header class="space-y-2">
              <h2 class="text-2xl font-semibold text-slate-900">
                Profile & security
              </h2>
              <p class="text-sm text-slate-600">
                Update the basics and keep your password fresh. Email changes
                are handled by support.
              </p>
            </header>
            <div
              class="rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm sm:p-8"
            >
              <form class="space-y-5" data-role="profile-form">
                <div class="space-y-1">
                  <label
                    class="text-sm font-semibold text-slate-600"
                    for="profile-name"
                    >Full name</label
                  >
                  <input
                    id="profile-name"
                    type="text"
                    required
                    data-role="profile-name"
                    class="w-full rounded-xl border border-slate-200 bg-white px-3.5 py-2.5 text-sm text-slate-800 shadow-sm focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"
                  />
                </div>
                <div class="space-y-1">
                  <label
                    class="text-sm font-semibold text-slate-600"
                    for="profile-phone"
                    >Phone number</label
                  >
                  <input
                    id="profile-phone"
                    type="tel"
                    placeholder="e.g. 0803 123 4567"
                    data-role="profile-phone"
                    class="w-full rounded-xl border border-slate-200 bg-white px-3.5 py-2.5 text-sm text-slate-800 shadow-sm focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"
                  />
                </div>
                <div class="space-y-1">
                  <label class="text-sm font-semibold text-slate-600"
                    >Email</label
                  >
                  <div
                    class="rounded-xl border border-slate-200 bg-slate-50 px-3.5 py-2.5 text-sm text-slate-500"
                    data-role="profile-email"
                  >
                    —
                  </div>
                </div>
                <div class="grid gap-4 sm:grid-cols-2">
                  <div class="space-y-1">
                    <label
                      class="text-sm font-semibold text-slate-600"
                      for="profile-password"
                      >New password</label
                    >
                    <input
                      id="profile-password"
                      type="password"
                      minlength="8"
                      placeholder="Leave blank to keep current"
                      data-role="profile-password"
                      class="w-full rounded-xl border border-slate-200 bg-white px-3.5 py-2.5 text-sm text-slate-800 shadow-sm focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"
                    />
                  </div>
                  <div class="space-y-1">
                    <label
                      class="text-sm font-semibold text-slate-600"
                      for="profile-password-confirm"
                      >Confirm password</label
                    >
                    <input
                      id="profile-password-confirm"
                      type="password"
                      minlength="8"
                      placeholder="Repeat new password"
                      data-role="profile-password-confirm"
                      class="w-full rounded-xl border border-slate-200 bg-white px-3.5 py-2.5 text-sm text-slate-800 shadow-sm focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"
                    />
                  </div>
                </div>
                <div
                  class="hidden rounded-xl border px-3.5 py-2.5 text-sm"
                  data-role="profile-feedback"
                ></div>
                <div class="flex flex-wrap items-center gap-3">
                  <button
                    type="submit"
                    class="inline-flex items-center justify-center rounded-xl bg-cyan-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-cyan-700"
                  >
                    Save changes
                  </button>
                  <a
                    href="reset-password.html"
                    class="text-sm font-semibold text-cyan-700 hover:text-cyan-600"
                  >
                    Forgot password?
                  </a>
                </div>
              </form>
            </div>

            <!-- Account Actions -->
            <div
              class="rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm sm:p-8"
            >
              <h3 class="text-lg font-semibold text-slate-900 mb-4">
                Account actions
              </h3>
              <div class="space-y-3">
                <a
                  href="../index.html"
                  class="inline-flex items-center justify-center w-full rounded-xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-600 hover:border-cyan-200 hover:text-cyan-700 transition-colors"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                    />
                  </svg>
                  Visit homepage
                </a>
                <button
                  type="button"
                  class="inline-flex items-center justify-center w-full rounded-xl bg-red-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-red-700 transition-colors"
                  data-role="logout"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                    />
                  </svg>
                  Log out
                </button>
              </div>
              <div
                class="mt-4 p-3 rounded-xl border border-amber-200 bg-amber-50"
              >
                <p class="text-xs text-amber-800">
                  <strong>Note:</strong> Logging out will end your current
                  session. You'll need to sign in again to access your
                  dashboard.
                </p>
              </div>
            </div>
          </section>
        </div>
      </main>

      <!-- Bottom Navigation Bar -->
      <div
        class="fixed bottom-0 left-0 right-0 z-50 border-t border-slate-200/70 bg-white/95 backdrop-blur-md safe-area-inset-bottom"
      >
        <div class="px-4 py-2 sm:px-6 sm:py-3 lg:px-8">
          <div
            class="grid grid-cols-5 gap-1 rounded-2xl border border-slate-200 bg-white/90 p-1 overflow-hidden shadow-lg max-w-2xl mx-auto"
            data-role="nav-buttons"
          >
            <button
              type="button"
              data-nav-target="dashboard"
              class="nav-button nav-button--active"
              aria-current="page"
            >
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M3 12l2-2m0 0l7-7 7 7m-9 9V9a2 2 0 012-2h4a2 2 0 012 2v10"
                />
              </svg>
              <span>Dashboard</span>
            </button>
            <button type="button" data-nav-target="plan" class="nav-button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M5 6h14M5 12h14M5 18h7"
                />
              </svg>
              <span>Plan</span>
            </button>
            <button
              type="button"
              data-nav-target="bonus"
              data-nav-requires-active="true"
              class="nav-button"
            >
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M12 8c1.656 0 3-.895 3-2s-1.344-2-3-2-3 .895-3 2 1.344 2 3 2zM6 22h12M5 20l2-6h10l2 6"
                />
              </svg>
              <span
                class="nav-button__badge"
                data-role="bonus-notification"
                aria-hidden="true"
              ></span>
              <span>Bonus</span>
            </button>
            <button
              type="button"
              data-nav-target="community"
              data-nav-requires-active="true"
              class="nav-button"
            >
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M4 7a4 4 0 014-4h8a4 4 0 014 4v6a4 4 0 01-4 4H9l-4 4V7z"
                />
              </svg>
              <span
                class="nav-button__badge"
                data-role="community-notification"
                aria-hidden="true"
              ></span>
              <span>Community</span>
            </button>
            <button type="button" data-nav-target="profile" class="nav-button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M15 11a3 3 0 10-6 0 3 3 0 006 0zM5 20a7 7 0 0114 0"
                />
              </svg>
              <span>Profile</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      window.__SUPABASE_CONFIG__ = window.__SUPABASE_CONFIG__ || {
        url: 'https://ghnhfagydcynhkgbazbj.supabase.co',
        anonKey:
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdobmhmYWd5ZGN5bmhrZ2JhemJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDM2MjQsImV4cCI6MjA3NDU3OTYyNH0.KHgZ_ESTneR0CqWBGfu-JOmI3eBBLCZr1XG-g2vpclw',
      };
    </script>
    <script type="module" src="./src/dashboard.js"></script>
    <script type="module" src="src/pwa-bootstrap.js"></script>
  </body>
</html>
