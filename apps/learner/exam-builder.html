<!doctype html>
<html lang="en">
  <head>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Builder | Academic Nightingale</title>
    <link rel="stylesheet" href="../assets/tailwind.css" />
  </head>
  <body class="min-h-screen bg-slate-50 text-slate-900">
    <script>
      window.__SUPABASE_CONFIG__ = window.__SUPABASE_CONFIG__ || {
        url: 'https://ghnhfagydcynhkgbazbj.supabase.co',
        anonKey:
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdobmhmYWd5ZGN5bmhrZ2JhemJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDM2MjQsImV4cCI6MjA3NDU3OTYyNH0.KHgZ_ESTneR0CqWBGfu-JOmI3eBBLCZr1XG-g2vpclw',
      };
    </script>
    <div class="flex min-h-screen flex-col">
      <header class="border-b border-slate-200 bg-white">
        <div
          class="mx-auto flex w-full max-w-7xl flex-col gap-4 px-4 py-4 sm:px-6 md:flex-row md:items-center md:justify-between"
        >
          <div>
            <a
              href="../admin/dashboard.html"
              class="inline-flex items-center gap-2 text-sm font-semibold text-cyan-600 hover:text-cyan-700"
            >
              <svg
                class="h-4 w-4"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M15 18l-6-6 6-6"
                />
              </svg>
              Back to dashboard
            </a>
            <h1 id="page-title" class="mt-2 text-2xl font-semibold tracking-tight">
              Quiz Builder
            </h1>
            <p class="mt-1 text-sm text-slate-500">
              Create and manage questions for your quiz blueprint.
            </p>
          </div>
          <div class="flex flex-wrap items-center gap-3">
            <button
              id="preview-quiz-btn"
              class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-300"
            >
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
              </svg>
              Preview quiz
            </button>
            <button
              id="export-quiz-btn"
              class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-300"
            >
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              Export quiz
            </button>
            <button
              id="save-quiz-btn"
              class="inline-flex items-center gap-2 rounded-full bg-cyan-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-cyan-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500"
            >
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2" />
              </svg>
              Save blueprint
            </button>
            <button
              id="publish-quiz-btn"
              class="inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"
            >
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
              </svg>
              Publish quiz
            </button>
          </div>
        </div>
      </header>

      <main class="flex-1 pb-16">
        <div class="mx-auto w-full max-w-7xl space-y-8 px-4 py-6 sm:px-6">
          <!-- Blueprint Info Section -->
          <section id="blueprint-info" class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
            <div class="flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between">
              <div class="flex-1">
                <div class="flex items-center gap-2">
                  <input
                    id="blueprint-title"
                    type="text"
                    class="text-xl font-semibold text-slate-900 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-cyan-500 rounded px-2 py-1 -ml-2"
                    placeholder="Enter quiz title..."
                  />
                  <span id="blueprint-status" class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-amber-100 text-amber-700">Draft</span>
                </div>
                <textarea
                  id="blueprint-description"
                  class="mt-2 w-full text-sm text-slate-500 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-cyan-500 rounded px-2 py-1 -ml-2 resize-none"
                  rows="2"
                  placeholder="Add quiz description or instructions..."
                ></textarea>
              </div>
              <div class="grid grid-cols-2 gap-4 text-sm text-slate-600">
                <div>
                  <dt class="text-xs uppercase tracking-wide text-slate-400">Questions</dt>
                  <dd class="mt-0.5 font-medium text-slate-900" id="question-count">0</dd>
                </div>
                <div>
                  <dt class="text-xs uppercase tracking-wide text-slate-400">Est. Duration</dt>
                  <dd class="mt-0.5 font-medium text-slate-900" id="estimated-duration">0 mins</dd>
                </div>
                <div>
                  <dt class="text-xs uppercase tracking-wide text-slate-400">Points</dt>
                  <dd class="mt-0.5 font-medium text-slate-900" id="total-points">0</dd>
                </div>
                <div>
                  <dt class="text-xs uppercase tracking-wide text-slate-400">Last Updated</dt>
                  <dd class="mt-0.5" id="last-updated">Just now</dd>
                </div>
              </div>
            </div>
          </section>

          <!-- Quiz Settings -->
          <section id="quiz-settings" class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
            <h2 class="text-lg font-semibold text-slate-900 mb-4">Quiz Settings</h2>
            <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
              <div>
                <label for="time-limit" class="block text-sm font-medium text-slate-700">Time Limit (minutes)</label>
                <input
                  id="time-limit"
                  type="number"
                  min="1"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  placeholder="60"
                />
                <p class="mt-1 text-xs text-slate-500">Leave empty for no time limit</p>
              </div>
              <div>
                <label for="shuffle-questions" class="flex items-center gap-2">
                  <input
                    id="shuffle-questions"
                    type="checkbox"
                    class="rounded border-slate-300 text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400"
                  />
                  <span class="text-sm font-medium text-slate-700">Shuffle questions</span>
                </label>
                <p class="mt-1 text-xs text-slate-500">Randomize question order for each attempt</p>
              </div>
              <div>
                <label for="show-results" class="flex items-center gap-2">
                  <input
                    id="show-results"
                    type="checkbox"
                    checked
                    class="rounded border-slate-300 text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400"
                  />
                  <span class="text-sm font-medium text-slate-700">Show results immediately</span>
                </label>
                <p class="mt-1 text-xs text-slate-500">Display score and correct answers after submission</p>
              </div>
              <div>
                <label for="allow-review" class="flex items-center gap-2">
                  <input
                    id="allow-review"
                    type="checkbox"
                    checked
                    class="rounded border-slate-300 text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400"
                  />
                  <span class="text-sm font-medium text-slate-700">Allow review</span>
                </label>
                <p class="mt-1 text-xs text-slate-500">Let participants review their answers</p>
              </div>
              <div>
                <label for="max-attempts" class="block text-sm font-medium text-slate-700">Maximum Attempts</label>
                <input
                  id="max-attempts"
                  type="number"
                  min="1"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  placeholder="1"
                />
                <p class="mt-1 text-xs text-slate-500">Leave empty for unlimited attempts</p>
              </div>
              <div>
                <label for="passing-score" class="block text-sm font-medium text-slate-700">Passing Score (%)</label>
                <input
                  id="passing-score"
                  type="number"
                  min="0"
                  max="100"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  placeholder="70"
                />
                <p class="mt-1 text-xs text-slate-500">Minimum score to pass the quiz</p>
              </div>
            </div>
          </section>

          <!-- Questions Section -->
          <section class="space-y-6">
            <div class="flex items-center justify-between">
              <div>
                <h2 class="text-lg font-semibold text-slate-900">Questions</h2>
                <p class="text-sm text-slate-500">Add and organize quiz questions</p>
              </div>
              <div class="flex flex-wrap items-center gap-3">
                <div class="relative">
                  <select
                    id="bulk-actions"
                    class="rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400 appearance-none"
                  >
                    <option value="">Bulk actions</option>
                    <option value="delete">Delete selected</option>
                    <option value="duplicate">Duplicate selected</option>
                    <option value="move">Move selected</option>
                  </select>
                  <svg class="pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
                <button
                  id="import-questions-btn"
                  class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-300"
                >
                  <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                  </svg>
                  Import questions
                </button>
                <button
                  id="add-question-btn"
                  class="inline-flex items-center gap-2 rounded-full bg-cyan-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-cyan-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500"
                >
                  <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v12m6-6H6" />
                  </svg>
                  Add question
                </button>
              </div>
            </div>

            <!-- Question List -->
            <div id="question-list" class="space-y-4">
              <div class="rounded-2xl border border-dashed border-slate-200 bg-white p-12 text-center text-sm text-slate-500 shadow-sm">
                <svg class="mx-auto h-12 w-12 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v12m6-6H6" />
                </svg>
                <h3 class="mt-4 text-lg font-medium text-slate-900">No questions yet</h3>
                <p class="mt-2">Get started by adding your first question to the quiz.</p>
                <button
                  class="mt-4 inline-flex items-center gap-2 rounded-full bg-cyan-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-cyan-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500"
                  onclick="document.getElementById('add-question-btn').click()"
                >
                  <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v12m6-6H6" />
                  </svg>
                  Add first question
                </button>
              </div>
            </div>
          </section>
        </div>
      </main>

      <!-- Question Modal -->
      <div id="question-modal" class="hidden fixed inset-0 z-50 bg-black/40 px-4 pb-10 pt-24 backdrop-blur-sm sm:px-6 md:px-10">
        <div class="mx-auto max-w-4xl rounded-2xl bg-white shadow-xl max-h-[80vh] overflow-y-auto">
          <form id="question-form" class="flex flex-col" autocomplete="off">
            <div class="flex items-start justify-between gap-4 p-6 border-b border-slate-200">
              <div>
                <h2 class="text-xl font-semibold text-slate-900">Add Question</h2>
                <p class="text-sm text-slate-500 mt-1">Create a new question for your quiz</p>
              </div>
              <button type="button" id="close-question-modal" class="rounded-full p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400">
                <span class="sr-only">Close</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>

            <div class="p-6 space-y-6">
              <!-- Question Type -->
              <div>
                <label for="question-type" class="block text-sm font-medium text-slate-700">Question Type</label>
                <select
                  id="question-type"
                  name="question-type"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  required
                >
                  <option value="multiple_choice">Multiple Choice</option>
                  <option value="true_false">True/False</option>
                  <option value="short_answer">Short Answer</option>
                  <option value="essay">Essay</option>
                  <option value="fill_blank">Fill in the Blank</option>
                  <option value="matching">Matching</option>
                </select>
              </div>

              <!-- Question Text -->
              <div>
                <label for="question-text" class="block text-sm font-medium text-slate-700">Question</label>
                <textarea
                  id="question-text"
                  name="question-text"
                  rows="3"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  placeholder="Enter your question here..."
                  required
                ></textarea>
                <div class="mt-2 flex items-center gap-3">
                  <button type="button" id="add-media-btn" class="inline-flex items-center gap-2 text-sm text-cyan-600 hover:text-cyan-700">
                    <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    Add media
                  </button>
                  <button type="button" id="format-text-btn" class="inline-flex items-center gap-2 text-sm text-cyan-600 hover:text-cyan-700">
                    <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Format text
                  </button>
                </div>
              </div>

              <!-- Points -->
              <div class="grid gap-4 md:grid-cols-2">
                <div>
                  <label for="question-points" class="block text-sm font-medium text-slate-700">Points</label>
                  <input
                    id="question-points"
                    name="question-points"
                    type="number"
                    min="1"
                    value="1"
                    class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                    required
                  />
                </div>
                <div>
                  <label for="question-time" class="block text-sm font-medium text-slate-700">Time Limit (seconds)</label>
                  <input
                    id="question-time"
                    name="question-time"
                    type="number"
                    min="10"
                    class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                    placeholder="Optional"
                  />
                </div>
              </div>

              <!-- Answer Options (Dynamic based on question type) -->
              <div id="answer-options" class="space-y-4">
                <!-- Multiple Choice Options -->
                <div id="multiple-choice-options" class="space-y-3">
                  <div class="flex items-center justify-between">
                    <label class="block text-sm font-medium text-slate-700">Answer Options</label>
                    <button type="button" id="add-option-btn" class="inline-flex items-center gap-2 text-sm text-cyan-600 hover:text-cyan-700">
                      <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v12m6-6H6" />
                      </svg>
                      Add option
                    </button>
                  </div>
                  <div id="options-list" class="space-y-2">
                    <div class="flex items-center gap-3">
                      <input type="radio" name="correct-answer" value="0" class="text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400">
                      <input type="text" placeholder="Option A" class="flex-1 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
                      <button type="button" class="text-rose-500 hover:text-rose-700">
                        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                    <div class="flex items-center gap-3">
                      <input type="radio" name="correct-answer" value="1" class="text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400">
                      <input type="text" placeholder="Option B" class="flex-1 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
                      <button type="button" class="text-rose-500 hover:text-rose-700">
                        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>

                <!-- True/False Options -->
                <div id="true-false-options" class="hidden">
                  <label class="block text-sm font-medium text-slate-700">Correct Answer</label>
                  <div class="mt-2 space-y-2">
                    <label class="flex items-center gap-3">
                      <input type="radio" name="tf-answer" value="true" class="text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400">
                      <span class="text-sm text-slate-700">True</span>
                    </label>
                    <label class="flex items-center gap-3">
                      <input type="radio" name="tf-answer" value="false" class="text-cyan-600 focus:border-cyan-500 focus:ring-cyan-400">
                      <span class="text-sm text-slate-700">False</span>
                    </label>
                  </div>
                </div>

                <!-- Short Answer -->
                <div id="short-answer-options" class="hidden">
                  <label for="correct-answer-text" class="block text-sm font-medium text-slate-700">Correct Answer</label>
                  <input
                    id="correct-answer-text"
                    type="text"
                    class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                    placeholder="Enter the correct answer..."
                  >
                  <p class="mt-1 text-xs text-slate-500">Case-insensitive matching will be used</p>
                </div>

                <!-- Essay -->
                <div id="essay-options" class="hidden">
                  <label for="essay-rubric" class="block text-sm font-medium text-slate-700">Grading Rubric (Optional)</label>
                  <textarea
                    id="essay-rubric"
                    rows="3"
                    class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                    placeholder="Describe how this essay should be graded..."
                  ></textarea>
                </div>
              </div>

              <!-- Explanation -->
              <div>
                <label for="question-explanation" class="block text-sm font-medium text-slate-700">Explanation (Optional)</label>
                <textarea
                  id="question-explanation"
                  name="question-explanation"
                  rows="2"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  placeholder="Explain the correct answer or provide additional context..."
                ></textarea>
              </div>
            </div>

            <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end p-6 border-t border-slate-200">
              <button type="button" id="cancel-question-btn" class="inline-flex items-center justify-center rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400">
                Cancel
              </button>
              <button type="submit" class="inline-flex items-center justify-center rounded-lg bg-cyan-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-cyan-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500">
                Save question
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Loading Overlay -->
      <div id="loading-overlay" class="hidden fixed inset-0 z-50 bg-black/40 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-6 shadow-xl">
          <div class="flex items-center gap-3">
            <svg class="h-5 w-5 animate-spin text-cyan-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle>
              <path class="opacity-75" stroke-width="4" d="M4 12a8 8 0 018-8"></path>
            </svg>
            <span class="text-sm font-medium text-slate-700" id="loading-text">Saving...</span>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="./src/examBuilder.js"></script>
    <script type="module" src="./src/pwa-bootstrap.js"></script>
  </body>
</html>